# List of keras experiments

### Some notes
- Differences between random and by-lon split
    - R2 is higher for by-lon because the total_error metric (which I think is simply the variance of the targets) is lower.
    - Actually, the other validation scores (loss and log_loss) are worse for the by-lon split, which might indicate that for the random split the train and valid data points are too closely related in space and time?
- But attention: evaluating the model with model.evaluate on the valid set gives me different results than what Tensorboard gives. Not sure why?

| exp_name | command | train loss | train log_loss | train R2 | valid loss | valid log_loss | valid R2 | N Params |
| -------- | ------- | ---------- | -------------- | -------- | ---------- | -------------- | -------- | -------- |
| fc_512_512_rand | python run_experiment.py --data_dir /project/meteo/w2w/A6/S.Rasp/SP-CAM/preprocessed_data/detailed_files/ --train_fn SPCAM_outputs_flat_train_random.nc --valid_fn SPCAM_outputs_flat_valid_random.nc --mean_fn SPCAM_mean_detailed.nc --std_fn SPCAM_std_detailed.nc --epochs 50 --hidden_layers 512 512 --flat_input --verbose --lr 1e-3 --lr_step 10 --exp_name fc_512_512_rand --model_dir ./models/ --log_dir /home/s/S.Rasp/repositories/CBRAIN/logs/ | 0.0162 | -1.68 | 0.58 | 0.0162 | -1.67 | 0.58 | 361,514 |
| [TERMINATED] fc_1024_1024_rand | python run_experiment.py --data_dir /project/meteo/w2w/A6/S.Rasp/SP-CAM/preprocessed_data/detailed_files/ --train_fn SPCAM_outputs_flat_train_random.nc --valid_fn SPCAM_outputs_flat_valid_random.nc --mean_fn SPCAM_mean_detailed.nc --std_fn SPCAM_std_detailed.nc --epochs 50 --hidden_layers 1024 1024 --flat_input --verbose --lr 1e-3 --lr_step 10 --exp_name fc_1024_1024_rand --model_dir ./models/ --log_dir /home/s/S.Rasp/repositories/CBRAIN/logs/ | | | | | | | |
| fc_1024_1024_512_512_rand | python run_experiment.py --data_dir /project/meteo/w2w/A6/S.Rasp/SP-CAM/preprocessed_data/detailed_files/ --train_fn SPCAM_outputs_flat_train_random.nc --valid_fn SPCAM_outputs_flat_valid_random.nc --mean_fn SPCAM_mean_detailed.nc --std_fn SPCAM_std_detailed.nc --epochs 50 --hidden_layers 1024 1024 512 512 --flat_input --verbose --lr 1e-3 --lr_step 10 --exp_name fc_1024_1024_512_512_rand --model_dir ./models/ --log_dir /home/s/S.Rasp/repositories/CBRAIN/logs/ | 0.0138 | -1.77 | 0.68 | 0.0141 | -1.77 | 0.65 | 2,013,226 |
| fc_1024_1024_512_512_by_lon | python run_experiment.py --data_dir /project/meteo/w2w/A6/S.Rasp/SP-CAM/preprocessed_data/detailed_files/ --train_fn SPCAM_outputs_train_by_lon_flat.nc --valid_fn SPCAM_outputs_valid_by_lon_flat.nc --mean_fn SPCAM_mean_detailed.nc --std_fn SPCAM_std_detailed.nc --epochs 50 --hidden_layers 1024 1024 512 512 --flat_input --verbose --lr 1e-3 --lr_step 10 --exp_name fc_1024_1024_512_512_by_lon --model_dir ./models/ --log_dir /home/s/S.Rasp/repositories/CBRAIN/logs/ | 0.0137 | -1.78 | 0.68 | 0.0145 | -1.67 | 0.69 | 2,013,226 |
| fc_256_256_256_256_256_256_rand (mistakenly called _by_lon) | python run_experiment.py --data_dir /project/meteo/w2w/A6/S.Rasp/SP-CAM/preprocessed_data/detailed_files/ --train_fn SPCAM_outputs_flat_train_random.nc --valid_fn SPCAM_outputs_flat_valid_random.nc --mean_fn SPCAM_mean_detailed.nc --std_fn SPCAM_std_detailed.nc --epochs 30 --hidden_layers 256 256 256 256 256 256 --flat_input --verbose --lr 1e-3 --lr_step 5 --exp_name fc_256_256_256_256_256_256_rand --model_dir ./models/ --log_dir /home/s/S.Rasp/repositories/CBRAIN/logs/ | 0.0142 | -1.67 | 0.65 | 0.0143 | -1.67 | 0.64 | 378,410 |
| fc_256_256_256_256_256_256_by_lon_actually | python run_experiment.py --data_dir /project/meteo/w2w/A6/S.Rasp/SP-CAM/preprocessed_data/detailed_files/ --train_fn SPCAM_outputs_train_by_lon_flat.nc --valid_fn SPCAM_outputs_valid_by_lon_flat.nc --mean_fn SPCAM_mean_detailed.nc --std_fn SPCAM_std_detailed.nc --epochs 30 --hidden_layers 256 256 256 256 256 256 --flat_input --verbose --lr 1e-3 --lr_step 5 --exp_name fc_256_256_256_256_256_256_by_lon_actually --model_dir ./models/ --log_dir /home/s/S.Rasp/repositories/CBRAIN/logs/ | 0.0142 | -1.76 | 0.65 | 0.0145 | -1.67 | 0.69 | 378,410 |
| fc_256_256_128_128_128_128_64_64_by_lon | python run_experiment.py --data_dir /project/meteo/w2w/A6/S.Rasp/SP-CAM/preprocessed_data/detailed_files/ --train_fn SPCAM_outputs_train_by_lon_flat.nc --valid_fn SPCAM_outputs_valid_by_lon_flat.nc --mean_fn SPCAM_mean_detailed.nc --std_fn SPCAM_std_detailed.nc --epochs 30 --hidden_layers 256 256 128 128 128 128 64 64 --flat_input --verbose --lr 1e-3 --lr_step 5 --exp_name fc_256_256_128_128_128_128_64_64_by_lon --model_dir ./models/ --log_dir /home/s/S.Rasp/repositories/CBRAIN/logs/ | 0.0144 | -1.75 | 0.65 | 0.0147 | -1.75 | 0.68 | 202,026 | 
| fc_1024_512_256_256_256_256_by_lon | python run_experiment.py --data_dir /project/meteo/w2w/A6/S.Rasp/SP-CAM/preprocessed_data/detailed_files/ --train_fn SPCAM_outputs_train_by_lon_flat.nc --valid_fn SPCAM_outputs_valid_by_lon_flat.nc --mean_fn SPCAM_mean_detailed.nc --std_fn SPCAM_std_detailed.nc --epochs 30 --hidden_layers 1024 512 256 256 256 256 --flat_input --verbose --lr 1e-3 --lr_step 5 --exp_name fc_1024_512_256_256_256_256_by_lon --model_dir ./models/ --log_dir /home/s/S.Rasp/repositories/CBRAIN/logs/ | 0.0140 | -1.77 | 0.66 | 0.0145 | -1.76 | 0.69 | 1,018,922 |